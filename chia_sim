#!/bin/bash


cat <<EOF

[C]Start plotting, loop: 10
[C:0][2021-05-29 12:48:47 AM]=====================START=====================

EOF

sleep 1

cat <<EOF
2021-05-29T00:48:50.179  chia.plotting.create_plots       : INFO     Creating 1 plots of size 32, pool public key:  89b8992f6d30fb87e479fbd8bb7c1c3eba86484d50427ba9b91e6c50d12a5f76de307ffce450b222273c97138395d537 farmer public key: 97239fc2ed439dbd404724f10505c3f5a4ddfb705591f76720c2d84d172a178d6ed10617afa562a73a657163b2955213
2021-05-29T00:48:50.184  chia.plotting.create_plots       : INFO     Memo: 89b8992f6d30fb87e479fbd8bb7c1c3eba86484d50427ba9b91e6c50d12a5f76de307ffce450b222273c97138395d53797239fc2ed439dbd404724f10505c3f5a4ddfb705591f76720c2d84d172a178d6ed10617afa562a73a657163b29552133efcb9d06071310c3331d4862e8be01675cf06d25a1cf1e0c2b87d9dd5be3794
2021-05-29T00:48:50.184  chia.plotting.create_plots       : INFO     Adding directory /data/nfs/192.168.1.55/16t_3/785740400 to harvester for farming
2021-05-29T00:48:50.214  chia.plotting.create_plots       : INFO     Starting plot 1/1
EOF

sleep 1

cat <<EOF

Starting plotting progress into temporary dirs: /cache/level1-1 and /cache/level1-1
ID: 5d253fba9148c5b92d46bbe6f95ba24cce5c349163de3d0936c136f7aae16660
Plot size is: 32
Buffer size is: 3500MiB
Using 128 buckets
Using 2 threads of stripe size 65536
EOF

cat <<EOF
Starting phase 1/4: Forward Propagation into tmp files... Sat May 29 00:48:50 2021
Computing table 1
EOF

sleep 100

cat <<EOF
F1 complete, time: 96.42 seconds. CPU (136.27%) Sat May 29 00:50:26 2021
EOF

sleep 1

cat <<EOF
Computing table 2
EOF

sleep 1
echo "        Bucket 0 uniform sort. Ram: 3.358GiB, u_sort min: 0.563GiB, qs min: 0.281GiB."
sleep 1

echo "        Bucket 1 uniform sort. Ram: 3.358GiB, u_sort min: 0.563GiB, qs min: 0.281GiB."
sleep 1
echo "        Bucket 2 uniform sort. Ram: 3.358GiB, u_sort min: 1.125GiB, qs min: 0.281GiB."
sleep 1
echo "        Bucket 3 uniform sort. Ram: 3.358GiB, u_sort min: 0.563GiB, qs min: 0.281GiB."
sleep 1
echo "        Bucket 4 uniform sort. Ram: 3.358GiB, u_sort min: 1.125GiB, qs min: 0.281GiB."
sleep 1
echo "        Bucket 5 uniform sort. Ram: 3.358GiB, u_sort min: 1.125GiB, qs min: 0.281GiB."
sleep 1
echo "        Bucket 6 uniform sort. Ram: 3.358GiB, u_sort min: 1.125GiB, qs min: 0.281GiB."
sleep 1
echo "        Bucket 7 uniform sort. Ram: 3.358GiB, u_sort min: 0.563GiB, qs min: 0.281GiB."
sleep 1
echo "        Bucket 8 uniform sort. Ram: 3.358GiB, u_sort min: 0.563GiB, qs min: 0.281GiB."
sleep 1
echo "        Bucket 9 uniform sort. Ram: 3.358GiB, u_sort min: 1.125GiB, qs min: 0.281GiB."
sleep 1
echo "        Bucket 10 uniform sort. Ram: 3.358GiB, u_sort min: 1.125GiB, qs min: 0.281GiB."
sleep 1

echo "Forward propagation table time: 1296.737 seconds. CPU (130.650%) Sun May 30 01:25:21 2021"
echo "Computing table 3"
sleep 1
echo "Forward propagation table time: 1825.051 seconds. CPU (110.610%) Sun May 30 01:55:46 2021"
echo "Computing table 4"
sleep 1
echo "Forward propagation table time: 2185.483 seconds. CPU (110.240%) Sun May 30 02:32:11 2021"
echo "Computing table 5"
sleep 1
echo "Forward propagation table time: 2106.452 seconds. CPU (112.300%) Sun May 30 03:07:18 2021"
echo "Computing table 6"
sleep 1
echo "Forward propagation table time: 1867.146 seconds. CPU (117.850%) Sun May 30 03:38:25 2021"
echo "Computing table 7"
sleep 1
echo "Forward propagation table time: 1599.515 seconds. CPU (116.940%) Sun May 30 04:05:05 2021"
echo "Time for phase 1 = 11131.426 seconds. CPU (114.040%) Sun May 30 04:05:05 2021"
echo "Starting phase 2/4: Backpropagation into tmp files... Sun May 30 04:05:05 2021"
echo "Backpropagating on table 7"
echo "scanned table 7"
sleep 1
echo "scanned time =  143.871 seconds. CPU (20.540%) Sun May 30 04:07:29 2021"
echo "sorting table 7"
sleep 1
echo "Backpropagating on table 6"
echo "scanned table 6"
sleep 1
echo "scanned time =  211.560 seconds. CPU (83.410%) Sun May 30 04:18:55 2021"
echo "sorting table 6"
sleep 1
echo "sort time =  620.006 seconds. CPU (93.960%) Sun May 30 04:29:15 2021"
echo "Backpropagating on table 5"
echo "scanned table 5"
sleep 1
echo "scanned time =  220.749 seconds. CPU (82.160%) Sun May 30 04:32:57 2021"
echo "sorting table 5"
sleep 1
echo "sort time =  599.418 seconds. CPU (93.300%) Sun May 30 04:42:56 2021"
echo "Backpropagating on table 4"
echo "scanned table 4"
sleep 1
echo "scanned time =  244.579 seconds. CPU (72.170%) Sun May 30 04:47:01 2021"
echo "sorting table 4"
sleep 1
echo "sort time =  619.927 seconds. CPU (87.650%) Sun May 30 04:57:21 2021"
echo "Backpropagating on table 3"
echo "scanned table 3"
sleep 1
echo "scanned time =  223.200 seconds. CPU (79.230%) Sun May 30 05:01:05 2021"
echo "sorting table 3"
sleep 1
echo "sort time =  604.948 seconds. CPU (93.170%) Sun May 30 05:11:10 2021"
echo "Backpropagating on table 2"
echo "scanned table 2"
sleep 1
echo "scanned time =  226.653 seconds. CPU (80.550%) Sun May 30 05:14:57 2021"
echo "sorting table 2"
sleep 1
echo "sort time =  609.012 seconds. CPU (93.880%) Sun May 30 05:25:06 2021"
echo "table 1 new size: 3425151400"
echo "Time for phase 2 = 4801.837 seconds. CPU (80.460%) Sun May 30 05:25:06 2021"
echo "Wrote: 268"
sleep 1
echo "Starting phase 3/4: Compression from tmp files into "/cache/level1-1/plot-k32-2021-05-30-00-59-4e854294438454864ba638f74e565567d7b0fbe3ed776d5612d1aa313e6cee47.plot.2.tmp" ... Sun May 30 05:25:06 2021"
echo "Compressing tables 1 and 2"
sleep 1
echo "Total compress table time: 1777.867 seconds. CPU (57.850%) Sun May 30 05:54:44 2021"
echo "Compressing tables 2 and 3"
sleep 1
echo "Total compress table time: 2095.619 seconds. CPU (58.030%) Sun May 30 06:29:40 2021"
echo "Compressing tables 3 and 4"
sleep 1
echo "Total compress table time: 1827.338 seconds. CPU (65.930%) Sun May 30 07:00:07 2021"
echo "Compressing tables 4 and 5"
sleep 1
echo "Total compress table time: 1920.768 seconds. CPU (63.610%) Sun May 30 07:32:08 2021"
echo "Compressing tables 5 and 6"
sleep 1
echo "Total compress table time: 2032.588 seconds. CPU (62.550%) Sun May 30 08:06:01 2021"
echo "Compressing tables 6 and 7"
sleep 1
echo "Total compress table time: 1786.964 seconds. CPU (55.250%) Sun May 30 08:35:48 2021"
echo "Time for phase 3 = 11441.154 seconds. CPU (60.570%) Sun May 30 08:35:48 2021"
echo "Starting phase 4/4: Write Checkpoint tables into "/cache/level1-1/plot-k32-2021-05-30-00-59-4e854294438454864ba638f74e565567d7b0fbe3ed776d5612d1aa313e6cee47.plot.2.tmp" ... Sun May 30 08:35:48 2021"
sleep 1
echo "Time for phase 4 = 703.608 seconds. CPU (60.410%) Sun May 30 08:47:31 2021"
echo "Approximate working space used (without final file): 269.321 GiB"
echo "Final File size: 101.343 GiB"
sleep 1
echo "Total time = 28078.027 seconds. CPU (85.170%) Sun May 30 08:47:31 2021"
sleep 1
echo 'Copied final file from "/cache/level1-1/plot-k32-2021-05-30-00-59-4e854294438454864ba638f74e565567d7b0fbe3ed776d5612d1aa313e6cee47.plot.2.tmp" to "/data/nfs/192.168.1.55/16t_3/785740400/plot-k32-2021-05-30-00-59-4e854294438454864ba638f74e565567d7b0fbe3ed776d5612d1aa313e6cee47.plot.2.tmp"'
echo "Copy time = 943.098 seconds. CPU (7.910%) Sun May 30 09:03:15 2021"
sleep 1
echo 'Removed temp2 file "/cache/level1-1/plot-k32-2021-05-30-00-59-4e854294438454864ba638f74e565567d7b0fbe3ed776d5612d1aa313e6cee47.plot.2.tmp"? 1'
echo 'Renamed final file from "/data/nfs/192.168.1.55/16t_3/785740400/plot-k32-2021-05-30-00-59-4e854294438454864ba638f74e565567d7b0fbe3ed776d5612d1aa313e6cee47.plot.2.tmp" to "/data/nfs/192.168.1.55/16t_3/785740400/plot-k32-2021-05-30-00-59-4e854294438454864ba638f74e565567d7b0fbe3ed776d5612d1aa313e6cee47.plot"'
sleep 1
echo "2021-05-30T09:03:16.402  chia.plotting.create_plots       : INFO     Summary:"
echo "2021-05-30T09:03:16.404  chia.plotting.create_plots       : INFO     Created a total of 1 new plots"
echo "2021-05-30T09:03:16.404  chia.plotting.create_plots       : INFO     plot-k32-2021-05-30-00-59-4e854294438454864ba638f74e565567d7b0fbe3ed776d5612d1aa313e6cee47.plot"
echo "[C:3] cost: 29023"
echo "[C:3][2021-05-30 09:03:16 AM]=====================END====================="
sleep 1
